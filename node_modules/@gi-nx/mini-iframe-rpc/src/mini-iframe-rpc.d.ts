import { ResultCache } from './result-cache';
export { ResultCache };
export interface InvocationOptions {
    timeout: number;
    retryLimit: number;
    retryAllFailures: boolean;
    targetWindow?: Window;
    targetOrigin?: string;
}
type InternalEventCallbackType = 'onUnexpectedResponse' | 'onReceive' | 'onSend' | 'onRegister' | 'onClose' | 'onRequestRetry' | 'onResultCacheEviction';
export type InternalEventCallbacks = {
    [key in InternalEventCallbackType]: (...args: any[]) => void;
};
export interface InitParameters {
    windowRef: Window;
    originWhitelist: string[];
    defaultInvocationOptions: InvocationOptions;
    eventCallbacks: Partial<InternalEventCallbacks>;
    resultCacheCapacity: number;
}
type ProcedureImplementation = (...args: any[]) => any;
export declare class MiniIframeRPC {
    private events;
    private config;
    private callbacks;
    private registeredProcedures;
    private resultCache;
    private transport;
    constructor(initParameters?: Partial<InitParameters>);
    register(procedureName: string, implementation?: ProcedureImplementation): void;
    invoke(method: string, params?: any[], invocationOptions?: InvocationOptions): Promise<any>;
    close(): void;
    private requestWithRetry;
    private internalEventCallback;
    private timeboxPromise;
    private getNextCallId;
    private sendMessage;
    private isArray;
    private unpackParams;
    private handleRequest;
    private handleResponse;
    private recv;
}
